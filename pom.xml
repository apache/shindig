<?xml version="1.0" encoding="UTF-8"?>
<!--
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
-->
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
  <modelVersion>4.0.0</modelVersion>

  <parent>
    <groupId>org.apache</groupId>
    <artifactId>apache</artifactId>
    <version>7</version>
  </parent>

  <groupId>org.apache.shindig</groupId>
  <artifactId>shindig-project</artifactId>
  <version>2.0.1.3</version>
  <packaging>pom</packaging>

  <name>Apache Shindig Project</name>
  <description>
    Shindig is a JavaScript container and implementations of the
    backend APIs and proxy required for hosting OpenSocial
    applications.
  </description>
  <url>http://shindig.apache.org</url>
  <inceptionYear>2007</inceptionYear>

  <prerequisites>
    <maven>2.0.8</maven>
  </prerequisites>

  <!-- ====================================================================== -->
  <!-- S C M                                                                  -->
  <!-- ====================================================================== -->
  <scm>
    <connection>scm:svn:http://svn.apache.org/repos/asf/shindig/branches/2.0.x</connection>
    <developerConnection>scm:svn:https://svn.apache.org/repos/asf/shindig/branches/2.0.x</developerConnection>
    <url>http://svn.apache.org/viewvc/shindig/branches/2.0.x</url>
  </scm>

  <!-- ====================================================================== -->
  <!-- I S S U E  M A N A G E M E N T                                         -->
  <!-- ====================================================================== -->
  <issueManagement>
    <system>jira</system>
    <url>http://issues.apache.org/jira/browse/SHINDIG</url>
  </issueManagement>

  <!-- ====================================================================== -->
  <!-- C I  M A N A G E M E N T                                               -->
  <!-- ====================================================================== -->
  <ciManagement>
    <system>Hudson</system>
    <url>http://hudson.zones.apache.org/hudson/job/Shindig/</url>
  </ciManagement>

  <!-- ====================================================================== -->
  <!-- D I S T R I B U T I O N  M A N A G E M E N T                           -->
  <!-- ====================================================================== -->
  <distributionManagement>
    <!-- This is the technical website for Shindig 2.0.x -->
    <site>
      <id>apache.website</id>
      <url>scp://people.apache.org/www/shindig.apache.org/shindig-2.0.x</url>
    </site>
  </distributionManagement>

  <!-- ====================================================================== -->
  <!-- M A I L I N G   L I S T S                                              -->
  <!-- ====================================================================== -->
  <mailingLists>
    <mailingList>
      <name>Shindig Dev List</name>
      <subscribe>dev-subscribe@shindig.apache.org</subscribe>
      <unsubscribe>dev-unsubscribe@shindig.apache.org</unsubscribe>
      <post>dev@shindig.apache.org</post>
      <archive>http://mail-archives.apache.org/mod_mbox/shindig-dev/</archive>
      <otherArchives>
        <otherArchive>http://shindig-dev.markmail.org/</otherArchive>
      </otherArchives>
    </mailingList>
    <mailingList>
      <name>Shindig Users List</name>
      <subscribe>users-subscribe@shindig.apache.org</subscribe>
      <unsubscribe>users-unsubscribe@shindig.apache.org</unsubscribe>
      <archive>http://mail-archives.apache.org/mod_mbox/shindig-users/</archive>
    </mailingList>
    <mailingList>
      <name>Shindig Commit List</name>
      <subscribe>commits-subscribe@shindig.apache.org</subscribe>
      <unsubscribe>commits-unsubscribe@shindig.apache.org</unsubscribe>
      <archive>http://mail-archives.apache.org/mod_mbox/shindig-commits/</archive>
    </mailingList>
    <mailingList>
      <name>Shindig Issues List</name>
      <subscribe>issues-subscribe@shindig.apache.org</subscribe>
      <unsubscribe>issues-unsubscribe@shindig.apache.org</unsubscribe>
      <archive>http://mail-archives.apache.org/mod_mbox/shindig-issues/</archive>
    </mailingList>
  </mailingLists>

  <!-- ====================================================================== -->
  <!-- P E O P L E                                                            -->
  <!-- ====================================================================== -->
  <!-- Developers listed by PMC Chair, PMC, Mentors, Committers, Contributers, all alphabetical-->
  <developers>
    <!-- PMC Chair -->
    <developer>
      <id>lindner</id>
      <name>Paul Lindner</name>
      <email>lindner@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Chair</role>
      </roles>
    </developer>
    <!-- PMC -->
    <developer>
      <id>agektmr</id>
      <name>Eiji Kitamura</name>
      <email>agektmr@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>bhofmann</id>
      <name>Bastian Hoffman</name>
      <email>bhofmann@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>brianm</id>
      <name>Brian McCallister</name>
      <email>brianm@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
        <role>Mentor</role>
      </roles>
    </developer>
    <developer>
      <id>chabotc</id>
      <name>Chris Chabot</name>
      <email>chabotc@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>dbentley</id>
      <name>Daniel Bentley</name>
      <email>dbentley@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>doll</id>
      <name>Cassie Doll</name>
      <email>doll@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>dpeterson</id>
      <name>Dan Peterson</name>
      <email>dpeterson@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>etnu</id>
      <name>Kevin Brown</name>
      <email>etnu@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>ieb</id>
      <name>Ian Boston</name>
      <email>ieb@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>evan</id>
      <name>Evan Gilbert</name>
      <email>evan@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>jasvir</id>
      <name>Jasvir Nagra</name>
      <email>jasvir@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>johnh</id>
      <name>John Hjelmstad</name>
      <email>johnh@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>jyang</id>
      <name>Jun Yang</name>
      <email>jyang@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>sgala</id>
      <name>Santiago Gala</name>
      <email>sgala@hisitech.com</email>
      <organization>ASF</organization>
      <roles>
       <role>Emeritus Mentor</role>
      </roles>
    </developer>
    <developer>
      <id>lryan</id>
      <name>Louis Ryan</name>
      <email>lryan@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>martint</id>
      <name>Martin Traverso</name>
      <email>martint@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>vsiveton</id>
      <name>Vincent Siveton</name>
      <email>vsiveton@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>zhen</id>
      <name>Zhen Wang</name>
      <email>zhen@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>awiner</id>
      <name>Adam Winer</name>
      <email>awiner@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>chico</id>
      <name>Chico Charlesworth</name>
      <email>chico@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>chirag</id>
      <name>Chirag Shah</name>
      <email>chirag@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>hsaputra</id>
      <name>Henry Saputra</name>
      <email>hsaputra@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>chaowang</id>
      <name>Jacky Wang</name>
      <email>chaowang@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>zhoresh</id>
      <name>Ziv Horesh</name>
      <email>zhoresh@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>
    <developer>
      <id>gagan</id>
      <name>Gagandeep Singh</name>
      <email>gagan@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>PMC Member</role>
      </roles>
    </developer>

    <!-- Mentors -->
    <developer>
      <id>fitz</id>
      <name>Brian Fitzpatrick</name>
      <email>fitz@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>Mentor</role>
      </roles>
    </developer>
    <developer>
      <id>gstein</id>
      <name>Greg Stein</name>
      <email>gstein@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>Emeritus Mentor</role>
      </roles>
    </developer>
    <developer>
      <id>sylvain</id>
      <name>Sylvain Wallez</name>
      <email>sylvain@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>Mentor</role>
      </roles>
    </developer>
    <developer>
      <id>tomdz</id>
      <name>Thomas Dudziak</name>
      <email>tomdz@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>Mentor</role>
      </roles>
    </developer>
    <developer>
      <id>upayavira</id>
      <name>Upayavira</name>
      <email>upayavira@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>Mentor</role>
      </roles>
    </developer>
    <developer>
      <id>dharkness</id>
      <name>David Harkness</name>
      <email>dharkness@apache.org</email>
      <organization>ASF</organization>
      <roles>
        <role>Emeritus</role>
      </roles>
    </developer>
    <!--Committers-->
  </developers>

  <!-- ====================================================================== -->
  <!-- P R O F I L E S                                                        -->
  <!-- ====================================================================== -->
  <profiles>
    <!-- default profile that builds everything -->
    <profile>
      <id>all</id>
      <activation>
        <activeByDefault>true</activeByDefault>
      </activation>
      <modules>
        <module>features</module>
        <module>java/common</module>
        <module>java/gadgets</module>
        <module>java/social-api</module>
        <module>java/server</module>
        <module>extras</module>
      </modules>
    </profile>

    <!-- profile to build features jar -->
    <profile>
      <id>features</id>
      <modules>
        <module>features</module>
      </modules>
    </profile>

    <!-- profile to build java/gadgets -->
    <profile>
      <id>gadgets</id>
      <modules>
        <module>java/gadgets</module>
      </modules>
    </profile>

    <!-- profile to build java/rest-api -->
    <profile>
      <id>social-api</id>
      <modules>
        <module>java/social-api</module>
      </modules>
    </profile>
    <profile>
      <id>common</id>
      <modules>
        <module>java/common</module>
      </modules>
    </profile>

    <!-- profile to build java/samples -->
    <profile>
      <id>samples</id>
      <modules>
        <module>java/samples</module>
      </modules>
    </profile>

    <profile>
      <id>run</id>
      <dependencies>
        <!-- project dependencies -->
        <dependency>
          <groupId>org.apache.shindig</groupId>
          <artifactId>shindig-gadgets</artifactId>
          <version>${project.version}</version>
        </dependency>

        <dependency>
          <groupId>org.apache.shindig</groupId>
          <artifactId>shindig-social-api</artifactId>
          <version>${project.version}</version>
        </dependency>

        <dependency>
          <groupId>org.apache.shindig</groupId>
          <artifactId>shindig-extras</artifactId>
          <version>${project.version}</version>
        </dependency>
        <!-- external dependencies -->
      </dependencies>

      <build>
        <defaultGoal>jetty:run-war</defaultGoal>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-antrun-plugin</artifactId>
            <executions>
              <execution>
                <id>create-work</id>
                <phase>compile</phase>
                <configuration>
                  <tasks>
                    <mkdir dir="target" />
                  </tasks>
                </configuration>
                <goals>
                  <goal>run</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.mortbay.jetty</groupId>
            <artifactId>maven-jetty-plugin</artifactId>
            <configuration>
              <tempDirectory>${basedir}/java/server/target/work</tempDirectory>
              <webApp>${basedir}/java/server/target/shindig-server-${project.version}.war</webApp>
              <contextPath>/</contextPath>
            </configuration>
          </plugin>
        </plugins>
      </build>
    </profile>

    <profile>
      <id>reporting</id>
      <modules>
        <module>features</module>
        <module>java/common</module>
        <module>java/gadgets</module>
        <module>java/social-api</module>
        <module>java/server</module>
        <module>java/samples</module>
        <module>extras</module>
      </modules>
      <build>
        <plugins>
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>cobertura-maven-plugin</artifactId>
            <configuration>
              <check>
                <haltOnFailure>false</haltOnFailure>
                <regexes>
                  <regex>
                    <pattern>org.apache.shindig.*</pattern>
                    <branchRate>90</branchRate>
                    <lineRate>90</lineRate>
                  </regex>
                </regexes>
              </check>
              <instrumentation>
                <includes>
                  <include>org/apache/shindig/**/*.class</include>
                </includes>
              </instrumentation>
            </configuration>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-site-plugin</artifactId>
            <configuration>
              <stagingSiteURL>scp://people.apache.org/www/shindig.apache.org/shindig-2.0.x/${project.version}</stagingSiteURL>
            </configuration>
          </plugin>
         <plugin>
           <groupId>org.apache.rat</groupId>
           <artifactId>apache-rat-plugin</artifactId>
         </plugin>
        </plugins>
      </build>

      <reporting>
        <!-- ordered alphabetically by owner -->
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-checkstyle-plugin</artifactId>
            <version>2.3</version>
            <configuration>
              <configLocation>http://svn.apache.org/repos/asf/shindig/trunk/etc/checkstyle/checkstyle.xml</configLocation>
              <headerLocation>http://svn.apache.org/repos/asf/shindig/trunk/etc/checkstyle/java.header</headerLocation>
              <encoding>${project.build.sourceEncoding}</encoding>
            </configuration>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-javadoc-plugin</artifactId>
            <version>2.7</version>
            <configuration>
              <source>1.5</source>
              <target>1.5</target>
              <encoding>${project.build.sourceEncoding}</encoding>
              <links>
                <link>http://java.sun.com/j2se/1.5.0/docs/api</link>
                <link>http://java.sun.com/products/servlet/2.5/docs/servlet-2_5-mr2/</link>
                <link>http://www.json.org/javadoc/</link>
                <link>http://junit.sourceforge.net/javadoc/</link>
              </links>
              <detectLinks>true</detectLinks>
            </configuration>
            <reportSets>
              <reportSet>
                <id>non-aggregate</id>
                <reports>
                  <report>javadoc</report>
                  <report>test-javadoc</report>
                </reports>
              </reportSet>
              <reportSet>
                <id>aggregate</id>
                <reports>
                  <report>aggregate</report>
                  <report>test-aggregate</report>
                </reports>
              </reportSet>
            </reportSets>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-jxr-plugin</artifactId>
            <version>2.2</version>
            <configuration>
              <inputEncoding>${project.build.sourceEncoding}</inputEncoding>
              <outputEncoding>${project.build.sourceEncoding}</outputEncoding>
            </configuration>
            <reportSets>
              <reportSet>
                <id>non-aggregate</id>
                <configuration>
                  <aggregate>false</aggregate>
                </configuration>
                <reports>
                  <report>jxr</report>
                  <report>test-jxr</report>
                </reports>
              </reportSet>
              <reportSet>
                <id>aggregate</id>
                <configuration>
                  <aggregate>true</aggregate>
                </configuration>
                <reports>
                  <report>jxr</report>
                  <report>test-jxr</report>
                </reports>
              </reportSet>
            </reportSets>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-pmd-plugin</artifactId>
            <version>2.5</version>
            <configuration>
              <targetJdk>1.5</targetJdk>
              <sourceEncoding>${project.build.sourceEncoding}</sourceEncoding>
            </configuration>
            <reportSets>
              <reportSet>
                <id>non-aggregate</id>
                <configuration>
                  <aggregate>false</aggregate>
                </configuration>
                <reports>
                  <report>cpd</report>
                  <report>pmd</report>
                </reports>
              </reportSet>
              <reportSet>
                <id>aggregate</id>
                <configuration>
                  <aggregate>true</aggregate>
                </configuration>
                <reports>
                  <report>cpd</report>
                  <report>pmd</report>
                </reports>
              </reportSet>
            </reportSets>
          </plugin>

          <plugin>
            <groupId>org.apache.rat</groupId>
            <artifactId>apache-rat-plugin</artifactId>
            <version>0.7</version>
            <configuration>
              <excludeSubProjects>false</excludeSubProjects>
              <excludes>
                <exclude>**/*.iml</exclude>
                <exclude>.gitignore</exclude>
                <exclude>release.properties</exclude>
                <exclude>**/.git/**/*</exclude>
                <exclude>**/README*</exclude>
                <exclude>**/target/**</exclude>
                <exclude>**/php/external/**</exclude>
                <exclude>**/features/swfobject/swfobject.js</exclude>
                <exclude>**/features/swfobject/swfobject.opt.js</exclude>
                <exclude>etc/svn-ignores</exclude>
                <exclude>etc/svn-props</exclude>
                <exclude>etc/eclipse/shindig.importorder</exclude>
                <exclude>php/src/common/JsMin.php</exclude>
                <exclude>php/test/misc/rewriter*.css</exclude>
                <exclude>php/test/misc/rewriter*.js</exclude>
                <exclude>php/test/misc/*.html</exclude>
                <exclude>php/test/misc/*.xml</exclude>
                <exclude>php/test/certs/*</exclude>
                <exclude>BUILD-JAVA</exclude>
                <exclude>COMMITTERS</exclude>
                <exclude>UPGRADING</exclude>
                <exclude>**/MANIFEST.MF</exclude>
                <exclude>**/src/test/resources/**/*.html</exclude>
                <exclude>**/src/test/resources/**/*.css</exclude>
                <exclude>**/src/test/resources/**/*.json</exclude>
                <exclude>**/src/test/resources/**/*.xml</exclude>
                <exclude>**/create.sql</exclude>
                <exclude>**/drop.sql</exclude>
                <exclude>**/derby.log</exclude>
              </excludes>
            </configuration>
          </plugin>

          <!-- Mojo -->
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>cobertura-maven-plugin</artifactId>
            <version>2.4</version>
          </plugin>
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>findbugs-maven-plugin</artifactId>
            <version>2.3.1</version>
          </plugin>
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>jdepend-maven-plugin</artifactId>
            <version>2.0-beta-2</version>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-surefire-plugin</artifactId>
            <version>2.6</version>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-surefire-report-plugin</artifactId>
            <version>2.6</version>
            <configuration>
              <parallel>both</parallel>
            </configuration>
          </plugin>
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>taglist-maven-plugin</artifactId>
            <version>2.4</version>
            <configuration>
              <tagListOptions>
                <tagClasses>
                  <tagClass>
                    <displayName>Todo Work</displayName>
                    <tags>
                      <tag>
                        <matchString>todo</matchString>
                        <matchType>ignoreCase</matchType>
                      </tag>
                      <tag>
                        <matchString>FIXME</matchString>
                        <matchType>exact</matchType>
                      </tag>
                    </tags>
                  </tagClass>
                  <tagClass>
                    <displayName>Deprecated</displayName>
                    <tags>
                      <tag>
                        <matchString>@deprecated</matchString>
                        <matchType>exact</matchType>
                      </tag>
                    </tags>
                  </tagClass>
                </tagClasses>
              </tagListOptions>
              <encoding>${project.build.sourceEncoding}</encoding>
            </configuration>
            <reportSets>
              <reportSet>
                <id>non-aggregate</id>
                <configuration>
                  <aggregate>false</aggregate>
                </configuration>
                <reports>
                  <report>taglist</report>
                </reports>
              </reportSet>
              <reportSet>
                <id>aggregate</id>
                <configuration>
                  <aggregate>true</aggregate>
                </configuration>
                <reports>
                  <report>taglist</report>
                </reports>
              </reportSet>
            </reportSets>
          </plugin>
        </plugins>
      </reporting>
    </profile>

    <!-- Apache Release Profile -->

    <profile>
      <id>apache-release</id>
      <modules>
        <module>features</module>
        <module>java/common</module>
        <module>java/gadgets</module>
        <module>java/social-api</module>
        <module>java/server</module>
        <module>java/samples</module>
        <module>extras</module>
        <module>assembly</module>
      </modules>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-source-plugin</artifactId>
            <executions>
              <execution>
                <id>attach-sources</id>
                <goals>
                  <goal>jar</goal>
                  <goal>test-jar</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-javadoc-plugin</artifactId>
            <executions>
              <execution>
                <id>attach-javadocs</id>
                <goals>
                  <goal>jar</goal>
                  <goal>test-jar</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.apache.rat</groupId>
            <artifactId>apache-rat-plugin</artifactId>
            <executions>
              <execution>
                <phase>verify</phase>
                <goals>
                  <goal>check</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>

    <profile>
      <id>assemble</id>
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-source-plugin</artifactId>
            <executions>
              <execution>
                <id>attach-sources</id>
                <goals>
                  <goal>jar</goal>
                  <goal>test-jar</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-javadoc-plugin</artifactId>
            <executions>
              <execution>
                <id>attach-javadocs</id>
                <goals>
                  <goal>jar</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
      <modules>
        <module>features</module>
        <module>java/common</module>
        <module>java/gadgets</module>
        <module>java/social-api</module>
        <module>java/server</module>
        <module>extras</module>
        <module>assembly</module>
      </modules>
    </profile>

    <profile>
      <id>to-committers</id>
      <build>
        <defaultGoal>xslt:transform</defaultGoal>
        <plugins>
          <plugin>
            <groupId>org.codehaus.mojo</groupId>
            <artifactId>xslt-maven-plugin</artifactId>
            <configuration>
              <xslFile>${basedir}/etc/to-committers.xsl</xslFile>
              <srcIncludes>pom.xml</srcIncludes>
              <srcDir>${basedir}</srcDir>
              <destDir>${project.build.directory}</destDir>
              <fileNameRegex>pom.xml</fileNameRegex>
              <fileNameReplacement>COMMITTERS</fileNameReplacement>
            </configuration>
            <executions>
              <execution>
                <goals>
                  <goal>transform</goal>
                </goals>
              </execution>
            </executions>
          </plugin>
        </plugins>
      </build>
    </profile>
  </profiles>

  <!-- ====================================================================== -->
  <!-- B U I L D                                                              -->
  <!-- ====================================================================== -->

  <build>
    <defaultGoal>install</defaultGoal>

    <pluginManagement>
      <!-- set versions/conf of common plugins for reproducibility, ordered alphabetically by owner -->
      <plugins>
        <!-- Maven -->
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-compiler-plugin</artifactId>
          <version>2.3.1</version>
          <configuration>
            <source>1.5</source>
            <target>1.5</target>
            <showDeprecation>true</showDeprecation>
            <compilerArgument>-Xlint:unchecked,deprecation,fallthrough,finally</compilerArgument>
            <fork>true</fork>
            <encoding>${project.build.sourceEncoding}</encoding>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-dependency-plugin</artifactId>
          <version>2.1</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins </groupId>
          <artifactId>maven-eclipse-plugin</artifactId>
          <version>2.5.1</version>
          <configuration>
            <addVersionToProjectName>true</addVersionToProjectName>
          </configuration>
<!--          <configuration>-->
<!--            <projectNameTemplate>${project.groupId}-${project.artifactId}</projectNameTemplate>-->
<!--          </configuration>-->
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-enforcer-plugin</artifactId>
          <version>1.0-beta-1</version>
            <configuration>
              <rules>
                <requireJavaVersion>
                  <version>[1.5,)</version>
                </requireJavaVersion>
              </rules>    
            </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-gpg-plugin</artifactId>
          <version>1.1</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-install-plugin</artifactId>
          <version>2.3.1</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-jar-plugin</artifactId>
          <version>2.3.1</version>
          <executions>
           <execution>
             <goals>
               <goal>test-jar</goal>
             </goals>
           </execution>
          </executions>
          <configuration>
            <archive>
              <manifest>
                <addDefaultSpecificationEntries>true</addDefaultSpecificationEntries>
                <addDefaultImplementationEntries>true</addDefaultImplementationEntries>
              </manifest>
            </archive>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-javadoc-plugin</artifactId>
          <version>2.7</version>
          <configuration>
            <source>1.5</source>
            <target>1.5</target>
            <encoding>${project.build.sourceEncoding}</encoding>
            <links>
              <link>http://java.sun.com/j2se/1.5.0/docs/api</link>
              <link>http://java.sun.com/products/servlet/2.5/docs/servlet-2_5-mr2/</link>
              <link>http://www.json.org/javadoc/</link>
              <link>http://junit.sourceforge.net/javadoc/</link>
            </links>
            <fixTags>since,param,return,throws</fixTags>
            <fixMethodComment>true</fixMethodComment>
            <fixClassComment>true</fixClassComment>
            <fixFieldComment>false</fixFieldComment>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-jxr-plugin</artifactId>
          <version>2.1</version>
          <configuration>
            <inputEncoding>${project.build.sourceEncoding}</inputEncoding>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-release-plugin</artifactId>
          <version>2.0</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-resources-plugin</artifactId>
          <version>2.4.3</version>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-site-plugin</artifactId>
          <version>2.1.1</version>
          <configuration>
            <inputEncoding>${project.build.sourceEncoding}</inputEncoding>
            <outputEncoding>${project.build.sourceEncoding}</outputEncoding>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-source-plugin</artifactId>
          <version>2.1.2</version>
          <executions>
            <execution>
              <id>attach-sources</id>
              <goals>
                <goal>jar</goal>
                <goal>test-jar</goal>
              </goals>
            </execution>
          </executions>
          <configuration>
            <excludeResources>false</excludeResources>
            <attach>true</attach>
          </configuration>
        </plugin>
        <plugin>
          <groupId>org.apache.maven.plugins</groupId>
          <artifactId>maven-war-plugin</artifactId>
          <version>2.1</version>
        </plugin>

        <!-- Mojo -->
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>clirr-maven-plugin</artifactId>
          <version>2.2.2</version>
        </plugin>
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>cobertura-maven-plugin</artifactId>
          <version>2.3</version>
        </plugin>
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>findbugs-maven-plugin</artifactId>
          <version>2.1</version>
        </plugin>
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>jdepend-maven-plugin</artifactId>
          <version>2.0-beta-2</version>
        </plugin>
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>taglist-maven-plugin</artifactId>
          <version>2.4</version>
        </plugin>
        <plugin>
          <groupId>org.codehaus.mojo</groupId>
          <artifactId>xslt-maven-plugin</artifactId>
          <version>1.0</version>
        </plugin>

        <!-- Misc -->
        <plugin>
          <groupId>org.mortbay.jetty</groupId>
          <artifactId>maven-jetty-plugin</artifactId>
          <version>6.1.25</version>
        </plugin>
        <plugin>
          <groupId>org.apache.geronimo.genesis.plugins</groupId>
          <artifactId>tools-maven-plugin</artifactId>
          <version>1.4</version>
          <executions>
            <execution>
              <id>verify-legal-files</id>
              <phase>verify</phase>
              <goals>
                <goal>verify-legal-files</goal>
              </goals>
              <configuration>
                <strict>true</strict>
              </configuration>
            </execution>
          </executions>
        </plugin>
        <plugin>
          <groupId>org.apache.rat</groupId>
          <artifactId>apache-rat-plugin</artifactId>
          <version>0.7</version>
          <configuration>
            <excludeSubProjects>false</excludeSubProjects>
            <excludes>
              <exclude>**/*.iml</exclude>
              <exclude>.gitignore</exclude>
              <exclude>release.properties</exclude>
              <exclude>**/.git/**/*</exclude>
              <exclude>**/README*</exclude>
              <exclude>**/target/**</exclude>
              <exclude>**/php/external/**</exclude>
              <exclude>**/features/swfobject/swfobject.js</exclude>
              <exclude>**/features/swfobject/swfobject.opt.js</exclude>
              <exclude>etc/svn-ignores</exclude>
              <exclude>etc/svn-props</exclude>
              <exclude>etc/eclipse/shindig.importorder</exclude>
              <exclude>php/src/common/JsMin.php</exclude>
              <exclude>php/test/misc/rewriter*.css</exclude>
              <exclude>php/test/misc/rewriter*.js</exclude>
              <exclude>php/test/misc/*.html</exclude>
              <exclude>php/test/misc/*.xml</exclude>
              <exclude>php/test/certs/*</exclude>
              <exclude>BUILD-JAVA</exclude>
              <exclude>COMMITTERS</exclude>
              <exclude>UPGRADING</exclude>
              <exclude>**/MANIFEST.MF</exclude>
              <exclude>**/src/test/resources/**/*.html</exclude>
              <exclude>**/src/test/resources/**/*.css</exclude>
              <exclude>**/src/test/resources/**/*.json</exclude>
              <exclude>**/src/test/resources/**/*.xml</exclude>
              <exclude>**/create.sql</exclude>
              <exclude>**/drop.sql</exclude>
              <exclude>**/derby.log</exclude>
            </excludes>
          </configuration>
        </plugin>
      </plugins>
    </pluginManagement>

    <!-- ordered alphabetically by owner -->
    <plugins>
      <!-- Maven -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-eclipse-plugin</artifactId>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-enforcer-plugin</artifactId>
        <executions>
          <execution>
            <id>enforce-java</id>
            <goals>
              <goal>enforce</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      <!-- We want to package up license resources in the JARs produced -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-remote-resources-plugin</artifactId>
        <executions>
          <execution>
            <goals>
              <goal>process</goal>
            </goals>
            <configuration>
              <resourceBundles>
                <resourceBundle>org.apache:apache-jar-resource-bundle:1.4</resourceBundle>
              </resourceBundles>
            </configuration>
          </execution>
        </executions>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-resources-plugin</artifactId>
        <configuration>
          <encoding>${project.build.sourceEncoding}</encoding>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-source-plugin</artifactId>
        <executions>
          <execution>
            <id>attach-sources</id>
            <phase>package</phase>
            <goals>
              <goal>jar</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <excludeResources>false</excludeResources>
          <attach>true</attach>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-site-plugin</artifactId>
      </plugin>

      <plugin>
        <groupId>org.apache.rat</groupId>
        <artifactId>apache-rat-plugin</artifactId>
      </plugin>

      <!-- Misc -->
      <plugin>
        <groupId>org.apache.geronimo.genesis.plugins</groupId>
        <artifactId>tools-maven-plugin</artifactId>
      </plugin>
    </plugins>
  </build>

  <!-- ====================================================================== -->
  <!-- R E P O R T I N G                                                      -->
  <!-- ====================================================================== -->
  <reporting>
    <!-- ordered alphabetically by owner -->
    <plugins>
      <!-- Maven -->
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-project-info-reports-plugin</artifactId>
        <version>2.2</version>
      </plugin>
    </plugins>
  </reporting>

  <!-- ====================================================================== -->
  <!-- R E P O S I T O R I E S                                                -->
  <!-- ====================================================================== -->
  <repositories>
    <repository>
      <id>central</id>
      <name>Maven Repository Switchboard</name>
      <layout>default</layout>
      <url>http://repo1.maven.org/maven2</url>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
    </repository>
    <repository>
      <id>diff_match_patch</id>
      <url>http://google-diff-match-patch.googlecode.com/svn/trunk/maven</url>
    </repository>
    <repository>
      <id>caja</id>
      <url>http://google-caja.googlecode.com/svn/maven</url>
    </repository>
    <repository>
      <id>oauth</id>
      <url>http://oauth.googlecode.com/svn/code/maven</url>
    </repository>
    <!-- for jstl-1.2 for now.. -->
    <repository>
      <id>java.net</id>
      <url>http://download.java.net/maven/2/</url>
    </repository>
  </repositories>

  <!-- ====================================================================== -->
  <!-- D E P E N D E N C I E S                                                -->
  <!-- ====================================================================== -->
  <dependencies>
    <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>servlet-api</artifactId>
      <version>2.5</version>
      <scope>provided</scope>
    </dependency>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.8.1</version>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>junit-addons</groupId>
      <artifactId>junit-addons</artifactId>
      <version>1.4</version>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>org.easymock</groupId>
      <artifactId>easymock</artifactId>
      <version>3.0</version>
      <scope>test</scope>
    </dependency>
    <dependency>
      <groupId>xmlunit</groupId>
      <artifactId>xmlunit</artifactId>
      <version>1.3</version>
      <scope>test</scope>
    </dependency>
  </dependencies>

  <dependencyManagement>
    <dependencies>
      <!-- project dependencies -->
      <dependency>
        <groupId>org.apache.shindig</groupId>
        <artifactId>shindig-features</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.apache.shindig</groupId>
        <artifactId>shindig-common</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.apache.shindig</groupId>
        <artifactId>shindig-gadgets</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.apache.shindig</groupId>
        <artifactId>shindig-server</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.apache.shindig</groupId>
        <artifactId>shindig-social-api</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.apache.shindig</groupId>
        <artifactId>shindig-extras</artifactId>
        <version>${project.version}</version>
      </dependency>
      <dependency>
        <groupId>org.apache.shindig</groupId>
        <artifactId>shindig-common</artifactId>
        <version>${project.version}</version>
        <type>test-jar</type>
      </dependency>

      <!-- external dependencies -->
      <dependency>
        <groupId>com.google.code.findbugs</groupId>
        <artifactId>jsr305</artifactId>
        <version>1.3.9</version>
        <!-- cannot be provided scope, guice uses @Nullable at runtime -->
      </dependency>

      <dependency> 
        <groupId>com.google.inject</groupId> 
        <artifactId>guice</artifactId> 
        <version>2.0</version> 
      </dependency> 

      <dependency>
        <groupId>com.google.inject.extensions</groupId>
        <artifactId>guice-jmx</artifactId>
        <version>2.0</version>
      </dependency>

      <dependency>
        <groupId>com.google.inject.extensions</groupId>
        <artifactId>guice-multibindings</artifactId>
        <version>2.0</version>
      </dependency>

      <dependency>
        <groupId>com.google.guava</groupId>
        <artifactId>guava</artifactId>
        <version>r06</version>
      </dependency>

      <dependency>
        <groupId>commons-codec</groupId>
        <artifactId>commons-codec</artifactId>
        <version>1.4</version>
      </dependency>
      <dependency>
        <groupId>commons-fileupload</groupId>
        <artifactId>commons-fileupload</artifactId>
        <version>1.2</version>
      </dependency>
      <dependency>
        <groupId>org.json</groupId>
        <artifactId>json</artifactId>
        <version>20070829</version>
      </dependency>
     <dependency>
       <groupId>caja</groupId>
       <artifactId>htmlparser</artifactId>
       <version>r4209</version>
       <scope>compile</scope>
     </dependency>
      <dependency>
        <groupId>caja</groupId>
        <artifactId>caja</artifactId>
        <version>r4251</version>
        <scope>compile</scope>
      </dependency>
      <dependency>
        <groupId>net.oauth.core</groupId>
        <artifactId>oauth</artifactId>
        <version>20100527</version>
        <scope>compile</scope>
      </dependency>
      <dependency>
        <groupId>net.oauth.core</groupId>
        <artifactId>oauth-provider</artifactId>
        <version>20100527</version>
        <scope>compile</scope>
      </dependency>
      <dependency>
        <groupId>net.oauth.core</groupId>
        <artifactId>oauth-httpclient4</artifactId>
        <version>20090913</version>
        <scope>compile</scope>
      </dependency>
      <dependency>
        <groupId>commons-lang</groupId>
        <artifactId>commons-lang</artifactId>
        <version>2.4</version>
        <scope>compile</scope>
      </dependency>
      <dependency>
        <groupId>commons-io</groupId>
        <artifactId>commons-io</artifactId>
        <version>1.4</version>
        <scope>compile</scope>
      </dependency>
      <dependency>
        <artifactId>commons-betwixt</artifactId>
        <groupId>commons-betwixt</groupId>
        <version>0.8</version>
      </dependency>
      <dependency>
        <artifactId>commons-collections</artifactId>
        <groupId>commons-collections</groupId>
        <version>3.2.1</version>
      </dependency>
      <dependency>
        <groupId>diff_match_patch</groupId>
        <artifactId>diff_match_patch</artifactId>
        <version>current</version>
        <scope>test</scope>
      </dependency>
      <dependency>
        <groupId>org.mortbay.jetty</groupId>
        <artifactId>jetty</artifactId>
        <version>6.1.25</version>
      </dependency>
      <dependency>
        <groupId>joda-time</groupId>
        <artifactId>joda-time</artifactId>
        <version>1.6</version>
      </dependency>
      <dependency>
        <groupId>rome</groupId>
        <artifactId>rome</artifactId>
        <version>1.0</version>
      </dependency>
      <dependency>
        <groupId>rome</groupId>
        <artifactId>modules</artifactId>
        <version>0.3.2</version>
      </dependency>
      <dependency>
        <groupId>com.ibm.icu</groupId>
        <artifactId>icu4j</artifactId>
        <version>3.8</version>
      </dependency>
      <dependency>
        <groupId>net.sourceforge.htmlunit</groupId>
        <artifactId>htmlunit</artifactId>
        <version>2.8</version>
      </dependency>
      <dependency>
        <groupId>log4j</groupId>
        <artifactId>log4j</artifactId>
        <version>1.2.16</version>
      </dependency>
      <dependency>
        <groupId>rhino</groupId>
        <artifactId>js</artifactId>
        <version>1.7R2</version>
      </dependency>
      <dependency>
        <groupId>org.apache.geronimo.specs</groupId>
        <artifactId>geronimo-stax-api_1.0_spec</artifactId>
        <version>1.0.1</version>
      </dependency>
      <dependency>
        <groupId>net.sf.ehcache</groupId>
        <artifactId>ehcache-core</artifactId>
        <version>2.2.0</version>
      </dependency>
      <dependency>
        <groupId>com.thoughtworks.xstream</groupId>
        <artifactId>xstream</artifactId>
        <version>1.3.1</version>
      </dependency>
      <dependency>
        <groupId>xpp3</groupId>
        <artifactId>xpp3_min</artifactId>
        <version>1.1.4c</version>
      </dependency>
      <dependency>
        <groupId>net.sourceforge.nekohtml</groupId>
        <artifactId>nekohtml</artifactId>
        <version>1.9.14</version>
      </dependency>
      <dependency>
        <groupId>xerces</groupId>
        <artifactId>xercesImpl</artifactId>
        <version>2.9.1</version>
      </dependency>
      <dependency>
        <groupId>xerces</groupId>
        <artifactId>xmlParserAPIs</artifactId>
        <version>2.6.2</version>
      </dependency>
      <dependency>
        <groupId>org.apache.sanselan</groupId>
        <artifactId>sanselan</artifactId>
        <version>0.97-incubator</version>
      </dependency>
      <dependency>
        <groupId>org.apache.tomcat</groupId>
        <artifactId>el-api</artifactId>
        <version>6.0.29</version>
      </dependency>
      <dependency>
        <groupId>org.apache.tomcat</groupId>
        <artifactId>jasper-el</artifactId>
        <version>6.0.29</version>
      </dependency>
      <dependency>
        <groupId>de.odysseus.juel</groupId>
        <artifactId>juel-impl</artifactId>
        <version>2.1.3</version>
        <exclusions>
          <exclusion>
            <groupId>de.odysseus.juel</groupId> 
            <artifactId>juel-api</artifactId>
          </exclusion>
        </exclusions>
      </dependency>
      <dependency>
        <groupId>xml-apis</groupId>
        <artifactId>xml-apis</artifactId>
        <version>1.3.04</version>
      </dependency>
      <dependency>
        <groupId>org.apache.httpcomponents</groupId>
        <artifactId>httpclient</artifactId>
        <version>4.0.1</version>
      </dependency>
      <dependency>
        <groupId>org.apache.shiro</groupId>
        <artifactId>shiro-web</artifactId>
        <version>1.0.0-incubating</version>
      </dependency>
      <dependency>
        <groupId>org.slf4j</groupId>
        <artifactId>slf4j-jdk14</artifactId>
        <version>1.5.6</version>
      </dependency>
      <dependency>
        <groupId>javax.servlet</groupId>
        <artifactId>jstl</artifactId>
        <version>1.2</version>
      </dependency>
    </dependencies>
  </dependencyManagement>
</project>
